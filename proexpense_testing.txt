*** Settings ***
Library           AppiumLibrary

*** Variables ***
${REMOTE_URL}     http://127.0.0.1:4723/wd/hub
${PLATFORM_NAME}    Android
${PLATFORM_VERSION}    10.0
${DEVICE_NAME}    emuilator-5554
${ACTIVITY_NAME}    com.arduia.expense.ui.MainActivity
${PACKAGE_NAME}    com.arduia.expense

*** Test Cases ***
CreateSingle
    Open ProExpense
    Wait Until Page Contains Element    id=com.arduia.expense:id/fb_main_add    5000
    Click Element    id=com.arduia.expense:id/fb_main_add
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_name    5000
    Input Text    id=com.arduia.expense:id/edt_name    lunch
    Input Text    id=com.arduia.expense:id/edt_amount    120
    Click Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.ScrollView/android.widget.RelativeLayout/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[1]/android.widget.TextView
    Input Text    id=com.arduia.expense:id/edt_note    encheng's lee yen buffet
    Click Element    id=com.arduia.expense:id/btn_save
    Wait Until Page Contains Element    id=com.arduia.expense:id/cd_expense    5000
    Element Text Should Be    id=com.arduia.expense:id/tv_name    lunch
    Element Text Should Be    id=com.arduia.expense:id/tv_amount    120

*** Keywords ***
Open ProExpense
    Open Application    ${REMOTE_URL}    platformName=${PLATFORM_NAME}    platformVersion=${PLATFORM_VERSION}    deviceName=${DEVICE_NAME}    automationName=UiAutomator2    appActivity=${ACTIVITY_NAME}    appPackage=${PACKAGE_NAME}
    Wait Until Page Contains Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.viewpager.widget.ViewPager/androidx.recyclerview.widget.RecyclerView/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[2]/android.widget.RelativeLayout/android.widget.TextView    5000    not_find_element
    Click Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.viewpager.widget.ViewPager/androidx.recyclerview.widget.RecyclerView/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[2]/android.widget.RelativeLayout/android.widget.TextView
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_continue    5000    not_find_element
    Click Element    id=com.arduia.expense:id/btn_continue
    Wait Until Page Contains Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.viewpager.widget.ViewPager/androidx.recyclerview.widget.RecyclerView/android.widget.FrameLayout/android.view.ViewGroup/android.widget.LinearLayout/androidx.cardview.widget.CardView/android.widget.EditText    5000    not_find_element
    Input Text    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.viewpager.widget.ViewPager/androidx.recyclerview.widget.RecyclerView/android.widget.FrameLayout/android.view.ViewGroup/android.widget.LinearLayout/androidx.cardview.widget.CardView/android.widget.EditText    tw
    Wait Until Page Contains Element    id=com.arduia.expense:id/tv_currency    5000    not_find_element
    Click Element    id=com.arduia.expense:id/tv_currency
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_continue    5000    not_find_element
    Click Element    id=com.arduia.expense:id/btn_continue
