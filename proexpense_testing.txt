*** Settings ***
Library           AppiumLibrary
Library           Collections

*** Variables ***
${REMOTE_URL}     http://127.0.0.1:4723/wd/hub
${PLATFORM_NAME}    Android
${PLATFORM_VERSION}    10.0
${DEVICE_NAME}    emulator-5554
${ACTIVITY_NAME}    com.arduia.expense.ui.MainActivity
${PACKAGE_NAME}    com.arduia.expense

*** Test Cases ***
CreateSingleAccount
    Open ProExpense
    ${name}=    Set Variable    lunch
    ${amount}=    Set Variable    120
    ${description}=    Set Variable    encheng's lee yen buffet
    ${AddNewButton}=    Set Variable    id=com.arduia.expense:id/fb_main_add
    Wait Until Page Contains Element    ${AddNewButton}    5000
    Click Element    ${AddNewButton}
    ${NameField}=    Set Variable    id=com.arduia.expense:id/edt_name
    Wait Until Page Contains Element    ${NameField}    5000
    Input Text    ${NameField}    ${name}
    ${AmountField}=    Set Variable    id=com.arduia.expense:id/edt_amount
    Input Text    ${AmountField}    ${amount}
    Click Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.ScrollView/android.widget.RelativeLayout/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[1]/android.widget.TextView
    ${NoteField}=    Set Variable    id=com.arduia.expense:id/edt_note
    Input Text    ${NoteField}    ${description}
    ${SaveButton}=    Set Variable    id=com.arduia.expense:id/btn_save
    Click Element    ${SaveButton}
    ${HistoryList}=    Set Variable    id=com.arduia.expense:id/cd_expense
    Wait Until Page Contains Element    ${HistoryList}    5000
    Element Text Should Be    id=com.arduia.expense:id/tv_name    ${name}
    Element Text Should Be    id=com.arduia.expense:id/tv_amount    ${amount}

CreateSingleAccountUpperBound
    Open ProExpense
    ${name}=    Set Variable    lunch
    ${amount}=    Set Variable    2147483647
    ${description}=    Set Variable    encheng's lee yen buffet
    ${AddNewButton}=    Set Variable    id=com.arduia.expense:id/fb_main_add
    Wait Until Page Contains Element    ${AddNewButton}    5000
    Click Element    ${AddNewButton}
    ${NameField}=    Set Variable    id=com.arduia.expense:id/edt_name
    Wait Until Page Contains Element    ${NameField}    5000
    Input Text    ${NameField}    ${name}
    ${AmountField}=    Set Variable    id=com.arduia.expense:id/edt_amount
    Input Text    ${AmountField}    ${amount}
    Element Text Should Be    ${AmountField}    Amount

CreateSingleAccountLowerBound
    Open ProExpense
    ${name}=    Set Variable    lunch
    ${amount}=    Set Variable    -2147483648
    ${description}=    Set Variable    encheng's lee yen buffet
    ${AddNewButton}=    Set Variable    id=com.arduia.expense:id/fb_main_add
    Wait Until Page Contains Element    ${AddNewButton}    5000
    Click Element    ${AddNewButton}
    ${NameField}=    Set Variable    id=com.arduia.expense:id/edt_name
    Wait Until Page Contains Element    ${NameField}    5000
    Input Text    ${NameField}    ${name}
    ${AmountField}=    Set Variable    id=com.arduia.expense:id/edt_amount
    Input Text    ${AmountField}    ${amount}
    Element Text Should Be    ${AmountField}    Amount

CreateSingleAccountString
    Open ProExpense
    ${name}=    Set Variable    lunch
    ${amount}=    Set Variable    thirty
    ${description}=    Set Variable    encheng's lee yen buffet
    ${AddNewButton}=    Set Variable    id=com.arduia.expense:id/fb_main_add
    Wait Until Page Contains Element    ${AddNewButton}    5000
    Click Element    ${AddNewButton}
    ${NameField}=    Set Variable    id=com.arduia.expense:id/edt_name
    Wait Until Page Contains Element    ${NameField}    5000
    Input Text    ${NameField}    ${name}
    ${AmountField}=    Set Variable    id=com.arduia.expense:id/edt_amount
    Input Text    ${AmountField}    ${amount}
    Element Text Should Be    ${AmountField}    Amount

CreateSingleAccountEmpty
    Open ProExpense
    ${name}=    Set Variable    lunch
    ${amount}=    Set Variable    thirty
    ${description}=    Set Variable    encheng's lee yen buffet
    ${AddNewButton}=    Set Variable    id=com.arduia.expense:id/fb_main_add
    Wait Until Page Contains Element    ${AddNewButton}    5000
    Click Element    ${AddNewButton}
    ${NameField}=    Set Variable    id=com.arduia.expense:id/edt_name
    Wait Until Page Contains Element    ${NameField}    5000
    Input Text    ${NameField}    ${name}
    ${AmountField}=    Set Variable    id=com.arduia.expense:id/edt_amount
    Input Text    ${AmountField}    ${amount}
    Element Text Should Be    ${AmountField}    Amount
    ${SaveButton}=    Set Variable    id=com.arduia.expense:id/btn_save
    Click Element    ${SaveButton}
    Go Back
    ${OutComeValue}=    Set Variable    com.arduia.expense:id/tv_outcome_value
    Element Should Contain Text    ${OutComeValue}    0

CreateSingleContinousClick
    Open ProExpense
    ${name}=    Set Variable    lunch
    ${amount}=    Set Variable    120
    ${description}=    Set Variable    encheng's lee yen buffet
    ${AddNewButton}=    Set Variable    id=com.arduia.expense:id/fb_main_add
    Wait Until Page Contains Element    ${AddNewButton}    5000
    Click Element    ${AddNewButton}
    ${NameField}=    Set Variable    id=com.arduia.expense:id/edt_name
    Wait Until Page Contains Element    ${NameField}    5000
    Input Text    ${NameField}    ${name}
    ${AmountField}=    Set Variable    id=com.arduia.expense:id/edt_amount
    Input Text    ${AmountField}    ${amount}
    Click Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.ScrollView/android.widget.RelativeLayout/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[1]/android.widget.TextView
    ${NoteField}=    Set Variable    id=com.arduia.expense:id/edt_note
    Input Text    ${NoteField}    ${description}
    ${SaveButton}=    Set Variable    id=com.arduia.expense:id/btn_save
    Continous Click A Element    ${SaveButton}
    ${HistoryList}=    Set Variable    id=com.arduia.expense:id/cd_expense
    Wait Until Page Contains Element    ${HistoryList}    5000
    Element Text Should Be    id=com.arduia.expense:id/tv_name    ${name}
    Element Text Should Be    id=com.arduia.expense:id/tv_amount    ${amount}

CreateMultiAccounts
    Open ProExpense
    Click    id=com.arduia.expense:id/fb_main_add
    Input    id=com.arduia.expense:id/edt_name    breakfast
    Input    id=com.arduia.expense:id/edt_amount    777
    Click    id=com.arduia.expense:id/imv_lock
    Click    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.ScrollView/android.widget.RelativeLayout/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[2]/android.widget.TextView
    Click    id=com.arduia.expense:id/btn_save
    Input    id=com.arduia.expense:id/edt_name    salary
    Input    id=com.arduia.expense:id/edt_amount    777777
    Click    id=com.arduia.expense:id/btn_save
    Click    id=com.arduia.expense:id/imv_lock
    Input    id=com.arduia.expense:id/edt_name    lunch
    Input    id=com.arduia.expense:id/edt_amount    7777
    Input    id=com.arduia.expense:id/edt_note    lunch
    Click    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.ScrollView/android.widget.RelativeLayout/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[2]/android.widget.TextView
    Click    id=com.arduia.expense:id/btn_save
    Element Text Should Equals    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[3]/android.widget.LinearLayout/androidx.recyclerview.widget.RecyclerView/android.widget.RelativeLayout[2]/android.widget.TextView[1]    salary
    Element Text Should Equals    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[3]/android.widget.LinearLayout/androidx.recyclerview.widget.RecyclerView/android.widget.RelativeLayout[2]/android.widget.LinearLayout/android.widget.TextView[1]    777,777
    Element Text Should Equals    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[3]/android.widget.LinearLayout/androidx.recyclerview.widget.RecyclerView/android.widget.RelativeLayout[1]/android.widget.TextView[1]    lunch
    Element Text Should Equals    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[3]/android.widget.LinearLayout/androidx.recyclerview.widget.RecyclerView/android.widget.RelativeLayout[1]/android.widget.LinearLayout/android.widget.TextView[1]    7,777

CreateMultiAccountsWithString
    Open ProExpense
    Click    id=com.arduia.expense:id/fb_main_add
    Click    id=com.arduia.expense:id/imv_lock
    Input    id=com.arduia.expense:id/edt_name    shopping
    Input    id=com.arduia.expense:id/edt_amount    asdfvdf
    Click    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.ScrollView/android.widget.RelativeLayout/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[2]/android.widget.TextView
    Click    id=com.arduia.expense:id/btn_save
    Element Text Should Equals    id=com.arduia.expense:id/btn_save    NEXT

CreateMultiAccountsWithUpperBound
    Open ProExpense
    Click    id=com.arduia.expense:id/fb_main_add
    Click    id=com.arduia.expense:id/imv_lock
    Input    id=com.arduia.expense:id/edt_name    shopping
    Input    id=com.arduia.expense:id/edt_amount    2147483647
    Click    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.ScrollView/android.widget.RelativeLayout/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[2]/android.widget.TextView
    Click    id=com.arduia.expense:id/btn_save
    Element Text Should Equals    id=com.arduia.expense:id/btn_save    NEXT

CreateMultiAccountsWithLowerund
    Open ProExpense
    Click    id=com.arduia.expense:id/fb_main_add
    Click    id=com.arduia.expense:id/imv_lock
    Input    id=com.arduia.expense:id/edt_name    shopping
    Input    id=com.arduia.expense:id/edt_amount    -2147483647
    Click    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.ScrollView/android.widget.RelativeLayout/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[2]/android.widget.TextView
    Click    id=com.arduia.expense:id/btn_save
    Element Text Should Equals    id=com.arduia.expense:id/btn_save    NEXT

CreateMultiAccountsWithEmpty
    Open ProExpense
    Click    id=com.arduia.expense:id/fb_main_add
    Click    id=com.arduia.expense:id/imv_lock
    Input    id=com.arduia.expense:id/edt_name    shopping
    Click    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.ScrollView/android.widget.RelativeLayout/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[2]/android.widget.TextView
    Click    id=com.arduia.expense:id/btn_save
    Element Text Should Equals    id=com.arduia.expense:id/btn_save    NEXT

CreateMultiAccountsWithContinusClick
    Open ProExpense
    Click    id=com.arduia.expense:id/fb_main_add
    Input    id=com.arduia.expense:id/edt_name    breakfast
    Input    id=com.arduia.expense:id/edt_amount    777
    Click    id=com.arduia.expense:id/imv_lock
    Click    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.ScrollView/android.widget.RelativeLayout/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[2]/android.widget.TextView
    Click    id=com.arduia.expense:id/btn_save
    Input    id=com.arduia.expense:id/edt_name    salary
    Input    id=com.arduia.expense:id/edt_amount    777777
    Continous Click A Element    id=com.arduia.expense:id/btn_save
    Click    id=com.arduia.expense:id/imv_lock
    Input    id=com.arduia.expense:id/edt_name    lunch
    Input    id=com.arduia.expense:id/edt_amount    7777
    Input    id=com.arduia.expense:id/edt_note    lunch
    Click    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.ScrollView/android.widget.RelativeLayout/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[2]/android.widget.TextView
    Click    id=com.arduia.expense:id/btn_save
    Element Text Should Equals    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[3]/android.widget.LinearLayout/androidx.recyclerview.widget.RecyclerView/android.widget.RelativeLayout[2]/android.widget.TextView[1]    salary
    Element Text Should Equals    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[3]/android.widget.LinearLayout/androidx.recyclerview.widget.RecyclerView/android.widget.RelativeLayout[2]/android.widget.LinearLayout/android.widget.TextView[1]    777,777
    Element Text Should Equals    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[3]/android.widget.LinearLayout/androidx.recyclerview.widget.RecyclerView/android.widget.RelativeLayout[1]/android.widget.TextView[1]    lunch
    Element Text Should Equals    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[3]/android.widget.LinearLayout/androidx.recyclerview.widget.RecyclerView/android.widget.RelativeLayout[1]/android.widget.LinearLayout/android.widget.TextView[1]    7,777

CreateMultiAccountsWithRotation
    Open ProExpense
    Click    id=com.arduia.expense:id/fb_main_add
    Input    id=com.arduia.expense:id/edt_name    breakfast
    Input    id=com.arduia.expense:id/edt_amount    777
    Click    id=com.arduia.expense:id/imv_lock
    Click    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.ScrollView/android.widget.RelativeLayout/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[2]/android.widget.TextView
    # rotation
    Execute Adb Shell    content insert --uri content://settings/system --bind name:s:user_rotation --bind value:i:1
    Execute Adb Shell    content insert --uri content://settings/system --bind name:s:user_rotation --bind value:i:0
    Click    id=com.arduia.expense:id/btn_save
    Input    id=com.arduia.expense:id/edt_name    lunch
    Input    id=com.arduia.expense:id/edt_amount    7777
    Click    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.ScrollView/android.widget.RelativeLayout/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[2]/android.widget.TextView
    # rotation
    Execute Adb Shell    content insert --uri content://settings/system --bind name:s:user_rotation --bind value:i:1
    Execute Adb Shell    content insert --uri content://settings/system --bind name:s:user_rotation --bind value:i:0
    Click    id=com.arduia.expense:id/btn_save
    Go Back
    Element Text Should Equals    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[3]/android.widget.LinearLayout/androidx.recyclerview.widget.RecyclerView/android.widget.RelativeLayout[2]/android.widget.TextView[1]    breakfast
    Element Text Should Equals    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[3]/android.widget.LinearLayout/androidx.recyclerview.widget.RecyclerView/android.widget.RelativeLayout[2]/android.widget.LinearLayout/android.widget.TextView[1]    777
    Element Text Should Equals    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[3]/android.widget.LinearLayout/androidx.recyclerview.widget.RecyclerView/android.widget.RelativeLayout[1]/android.widget.TextView[1]    lunch
    Element Text Should Equals    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[3]/android.widget.LinearLayout/androidx.recyclerview.widget.RecyclerView/android.widget.RelativeLayout[1]/android.widget.LinearLayout/android.widget.TextView[1]    7,777

CreateMultiAccountsWithExitAndReenter
    Open ProExpense
    Click    id=com.arduia.expense:id/fb_main_add
    Input    id=com.arduia.expense:id/edt_name    breakfast
    Input    id=com.arduia.expense:id/edt_amount    777
    Click    id=com.arduia.expense:id/imv_lock
    Click    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.ScrollView/android.widget.RelativeLayout/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[2]/android.widget.TextView
    # exit and reenter
    Execute Adb Shell    input keyevent KEYCODE_APP_SWITCH
    Execute Adb Shell    input keyevent KEYCODE_BACK
    Go Back
    Click    id=com.arduia.expense:id/btn_save
    Input    id=com.arduia.expense:id/edt_name    lunch
    Input    id=com.arduia.expense:id/edt_amount    7777
    # exit and reenter
    Execute Adb Shell    input keyevent KEYCODE_APP_SWITCH
    Execute Adb Shell    input keyevent KEYCODE_BACK
    Go Back
    Click    id=com.arduia.expense:id/btn_save
    Go Back
    Element Text Should Equals    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[3]/android.widget.LinearLayout/androidx.recyclerview.widget.RecyclerView/android.widget.RelativeLayout[2]/android.widget.TextView[1]    breakfast
    Element Text Should Equals    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[3]/android.widget.LinearLayout/androidx.recyclerview.widget.RecyclerView/android.widget.RelativeLayout[2]/android.widget.LinearLayout/android.widget.TextView[1]    777
    Element Text Should Equals    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[3]/android.widget.LinearLayout/androidx.recyclerview.widget.RecyclerView/android.widget.RelativeLayout[1]/android.widget.TextView[1]    lunch
    Element Text Should Equals    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[3]/android.widget.LinearLayout/androidx.recyclerview.widget.RecyclerView/android.widget.RelativeLayout[1]/android.widget.LinearLayout/android.widget.TextView[1]    7,777

FilterAccounts
    Open ProExpense
    Click    id=com.arduia.expense:id/fb_main_add
    Input    id=com.arduia.expense:id/edt_name    salary
    Input    id=com.arduia.expense:id/edt_amount    777777
    Click    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.ScrollView/android.widget.RelativeLayout/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[2]/android.widget.TextView
    Click    xpath=//android.widget.TextView[@content-desc="Calendar"]
    Click    xpath=//android.view.View[@content-desc="01 June 2021"]
    Click    id=android:id/button1
    Click    id=com.arduia.expense:id/btn_save
    Click    id=com.arduia.expense:id/fb_main_add
    Input    id=com.arduia.expense:id/edt_name    shopping
    Input    id=com.arduia.expense:id/edt_amount    7777
    Click    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.ScrollView/android.widget.RelativeLayout/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[5]/android.widget.TextView
    Click    xpath=//android.widget.TextView[@content-desc="Calendar"]
    Click    xpath=//android.view.View[@content-desc="28 June 2021"]
    Click    id=android:id/button1
    Click    id=com.arduia.expense:id/btn_save
    Enter Expense Logs
    # filter salary
    Click    xpath=//android.widget.TextView[@content-desc="Filter"]
    Click    id=com.arduia.expense:id/tv_end_day
    Click    xpath=//android.view.View[@content-desc="01 June 2021"]
    Click    id=android:id/button1
    Click    id=com.arduia.expense:id/btn_apply_filter
    Element Text Should Equals      xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.FrameLayout/androidx.recyclerview.widget.RecyclerView/android.widget.FrameLayout/android.widget.RelativeLayout/android.widget.TextView[1]    salary
    # filter shopping
    Click    xpath=//android.widget.TextView[@content-desc="Filter"]
    Click    id=com.arduia.expense:id/tv_start_day
    Click    xpath=//android.view.View[@content-desc="25 June 2021"]
    Click    id=android:id/button1
    Click    id=com.arduia.expense:id/tv_end_day
    Click    xpath=//android.view.View[@content-desc="28 June 2021"]
    Click    id=android:id/button1
    Click    id=com.arduia.expense:id/btn_apply_filter
    Element Text Should Equals     xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.FrameLayout/androidx.recyclerview.widget.RecyclerView/android.widget.FrameLayout/android.widget.RelativeLayout/android.widget.TextView[1]     shopping

EditAccount
    Open ProExpense
    Wait Until Page Contains Element    id=com.arduia.expense:id/rv_home    5000
    Click Element    id=com.arduia.expense:id/rv_home
    Wait Until Page Contains Element    id=com.arduia.expense:id/fb_main_add    5000
    Click Element    id=com.arduia.expense:id/fb_main_add
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_name    5000
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_amount    5000
    Input Text    id=com.arduia.expense:id/edt_name    lunch
    Input Text    id=com.arduia.expense:id/edt_amount    120
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_save    5000
    Click Element    id=com.arduia.expense:id/btn_save
    Wait Until Page Contains Element    id=com.arduia.expense:id/cd_expense    5000
    Element Text Should Be    id=com.arduia.expense:id/tv_name    lunch
    Element Text Should Be    id=com.arduia.expense:id/tv_amount    120
    Click Element    id=com.arduia.expense:id/cd_expense
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_edit    5000
    Click Element    id=com.arduia.expense:id/btn_edit
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_name    5000
    Input Text    id=com.arduia.expense:id/edt_name    dinner
    Input Text    id=com.arduia.expense:id/edt_amount    180
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_save    5000
    Click Element    id=com.arduia.expense:id/btn_save
    Wait Until Page Contains Element    id=com.arduia.expense:id/tv_name    5000
    Element Text Should Be    id=com.arduia.expense:id/tv_name    dinner
    Element Text Should Be    id=com.arduia.expense:id/tv_amount    180

EditAccountWithUpperBound
    Open ProExpense
    Wait Until Page Contains Element    id=com.arduia.expense:id/rv_home    5000
    Click Element    id=com.arduia.expense:id/rv_home
    Wait Until Page Contains Element    id=com.arduia.expense:id/fb_main_add    5000
    Click Element    id=com.arduia.expense:id/fb_main_add
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_name    5000
    Input Text    id=com.arduia.expense:id/edt_name    lunch
    Input Text    id=com.arduia.expense:id/edt_amount    120
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_save    5000
    Click Element    id=com.arduia.expense:id/btn_save
    Wait Until Page Contains Element    id=com.arduia.expense:id/cd_expense    5000
    Element Text Should Be    id=com.arduia.expense:id/tv_name    lunch
    Element Text Should Be    id=com.arduia.expense:id/tv_amount    120
    Click Element    id=com.arduia.expense:id/cd_expense
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_edit    5000
    Click Element    id=com.arduia.expense:id/btn_edit
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_name    5000
    Input Text    id=com.arduia.expense:id/edt_name    dinner
    Input Text    id=com.arduia.expense:id/edt_amount    2147483647
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_save    5000
    Click Element    id=com.arduia.expense:id/btn_save
    Element Text Should Be    id=com.arduia.expense:id/edt_amount    Amount

EditAccountWithLowerBound
    Open ProExpense
    Wait Until Page Contains Element    id=com.arduia.expense:id/rv_home    5000
    Click Element    id=com.arduia.expense:id/rv_home
    Wait Until Page Contains Element    id=com.arduia.expense:id/fb_main_add    5000
    Click Element    id=com.arduia.expense:id/fb_main_add
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_name    5000
    Input Text    id=com.arduia.expense:id/edt_name    lunch
    Input Text    id=com.arduia.expense:id/edt_amount    120
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_save    5000
    Click Element    id=com.arduia.expense:id/btn_save
    Wait Until Page Contains Element    id=com.arduia.expense:id/cd_expense    5000
    Element Text Should Be    id=com.arduia.expense:id/tv_name    lunch
    Element Text Should Be    id=com.arduia.expense:id/tv_amount    120
    Click Element    id=com.arduia.expense:id/cd_expense
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_edit    5000
    Click Element    id=com.arduia.expense:id/btn_edit
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_name    5000
    Input Text    id=com.arduia.expense:id/edt_name    dinner
    Input Text    id=com.arduia.expense:id/edt_amount    -2147483648
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_save    5000
    Click Element    id=com.arduia.expense:id/btn_save
    Element Text Should Be    id=com.arduia.expense:id/edt_amount    Amount

EditAccountWithString
    Open ProExpense
    Wait Until Page Contains Element    id=com.arduia.expense:id/rv_home    5000
    Click Element    id=com.arduia.expense:id/rv_home
    Wait Until Page Contains Element    id=com.arduia.expense:id/fb_main_add    5000
    Click Element    id=com.arduia.expense:id/fb_main_add
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_name    5000
    Input Text    id=com.arduia.expense:id/edt_name    lunch
    Input Text    id=com.arduia.expense:id/edt_amount    120
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_save    5000
    Click Element    id=com.arduia.expense:id/btn_save
    Wait Until Page Contains Element    id=com.arduia.expense:id/cd_expense    5000
    Element Text Should Be    id=com.arduia.expense:id/tv_name    lunch
    Element Text Should Be    id=com.arduia.expense:id/tv_amount    120
    Click Element    id=com.arduia.expense:id/cd_expense
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_edit    5000
    Click Element    id=com.arduia.expense:id/btn_edit
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_name    5000
    Input Text    id=com.arduia.expense:id/edt_name    dinner
    Input Text    id=com.arduia.expense:id/edt_amount    fifty
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_save    5000
    Click Element    id=com.arduia.expense:id/btn_save
    Element Text Should Be    id=com.arduia.expense:id/edt_amount    Amount

EditAccountWithEmpty
    Open ProExpense
    Wait Until Page Contains Element    id=com.arduia.expense:id/rv_home    5000
    Click Element    id=com.arduia.expense:id/rv_home
    Wait Until Page Contains Element    id=com.arduia.expense:id/fb_main_add    5000
    Click Element    id=com.arduia.expense:id/fb_main_add
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_name    5000
    Input Text    id=com.arduia.expense:id/edt_name    lunch
    Input Text    id=com.arduia.expense:id/edt_amount    120
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_save    5000
    Click Element    id=com.arduia.expense:id/btn_save
    Wait Until Page Contains Element    id=com.arduia.expense:id/cd_expense    5000
    Element Text Should Be    id=com.arduia.expense:id/tv_name    lunch
    Element Text Should Be    id=com.arduia.expense:id/tv_amount    120
    Click Element    id=com.arduia.expense:id/cd_expense
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_edit    5000
    Click Element    id=com.arduia.expense:id/btn_edit
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_name    5000
    Input Text    id=com.arduia.expense:id/edt_name    dinner
    Input Text    id=com.arduia.expense:id/edt_amount    ${EMPTY}
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_save    5000
    Click Element    id=com.arduia.expense:id/btn_save
    Element Text Should Be    id=com.arduia.expense:id/edt_amount    Amount

EditAccountWithExitAndReenter
    #should succeed when edit text existed after exit and reenter
    Open ProExpense
    Wait Until Page Contains Element    id=com.arduia.expense:id/rv_home    5000
    Click Element    id=com.arduia.expense:id/rv_home
    Wait Until Page Contains Element    id=com.arduia.expense:id/fb_main_add    5000
    Click Element    id=com.arduia.expense:id/fb_main_add
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_name    5000
    Input Text    id=com.arduia.expense:id/edt_name    lunch
    Input Text    id=com.arduia.expense:id/edt_amount    120
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_save    5000
    Click Element    id=com.arduia.expense:id/btn_save
    Wait Until Page Contains Element    id=com.arduia.expense:id/cd_expense    5000
    Element Text Should Be    id=com.arduia.expense:id/tv_name    lunch
    Element Text Should Be    id=com.arduia.expense:id/tv_amount    120
    Click Element    id=com.arduia.expense:id/cd_expense
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_edit    5000
    Click Element    id=com.arduia.expense:id/btn_edit
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_name    5000
    Input Text    id=com.arduia.expense:id/edt_name    dinner
    Input Text    id=com.arduia.expense:id/edt_amount    180
    Execute Adb Shell    input keyevent KEYCODE_APP_SWITCH
    Execute Adb Shell    input keyevent KEYCODE_BACK
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_name
    Element Text Should Be    id=com.arduia.expense:id/edt_name    dinner
    Element Text Should Be    id=com.arduia.expense:id/edt_amount    180

EditAccountWithRotate
    #should succeed when edit text existed after rotate
    Open ProExpense
    Wait Until Page Contains Element    id=com.arduia.expense:id/rv_home    5000
    Click Element    id=com.arduia.expense:id/rv_home
    Wait Until Page Contains Element    id=com.arduia.expense:id/fb_main_add    5000
    Click Element    id=com.arduia.expense:id/fb_main_add
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_name    5000
    Input Text    id=com.arduia.expense:id/edt_name    lunch
    Input Text    id=com.arduia.expense:id/edt_amount    120
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_save    5000
    Click Element    id=com.arduia.expense:id/btn_save
    Wait Until Page Contains Element    id=com.arduia.expense:id/cd_expense    5000
    Element Text Should Be    id=com.arduia.expense:id/tv_name    lunch
    Element Text Should Be    id=com.arduia.expense:id/tv_amount    120
    Click Element    id=com.arduia.expense:id/cd_expense
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_edit    5000
    Click Element    id=com.arduia.expense:id/btn_edit
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_name    5000
    Input Text    id=com.arduia.expense:id/edt_name    dinner
    Input Text    id=com.arduia.expense:id/edt_amount    180
    Execute Adb Shell    content insert --uri content://settings/system --bind name:s:user_rotation --bind value:i:1
    Execute Adb Shell    content insert --uri content://settings/system --bind name:s:user_rotation --bind value:i:0
    Element Text Should Be    id=com.arduia.expense:id/edt_name    dinner
    Element Text Should Be    id=com.arduia.expense:id/edt_amount    180

ImportBackupFile
    Open ProExpense
    Wait Until Page Contains Element    id=com.arduia.expense:id/fb_main_add    5000
    Click Element    id=com.arduia.expense:id/fb_main_add
    Wait Until Page Contains Element    id=com.arduia.expense:id/edt_name    5000
    Input Text    id=com.arduia.expense:id/edt_name    lunch
    Input Text    id=com.arduia.expense:id/edt_amount    120
    Click Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.ScrollView/android.widget.RelativeLayout/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[1]/android.widget.TextView
    Input Text    id=com.arduia.expense:id/edt_note    encheng's lee yen buffet
    Click Element    id=com.arduia.expense:id/btn_save
    Wait Until Page Contains Element    id=com.arduia.expense:id/cd_expense    5000
    Element Text Should Be    id=com.arduia.expense:id/tv_name    lunch
    Element Text Should Be    id=com.arduia.expense:id/tv_amount    120
    Wait Until Page Contains Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.LinearLayout/android.view.ViewGroup/android.widget.ImageButton
    Click Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.LinearLayout/android.view.ViewGroup/android.widget.ImageButton
    Wait Until Page Contains Element    id=com.arduia.expense:id/tv_title
    Click Element    id=com.arduia.expense:id/tv_title
    Wait Until Page Contains Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.view.ViewGroup/androidx.cardview.widget.CardView[1]/android.widget.RelativeLayout
    Click Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.view.ViewGroup/androidx.cardview.widget.CardView[1]/android.widget.RelativeLayout
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_export_now
    Click Element    id=com.arduia.expense:id/btn_export_now
    Wait Until Page Contains Element    id=android:id/button1
    Click Element    id=android:id/button1
    # Imprt File
    Open ProExpense
    Wait Until Page Contains Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.LinearLayout/android.view.ViewGroup/android.widget.ImageButton
    Click Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.LinearLayout/android.view.ViewGroup/android.widget.ImageButton
    Wait Until Page Contains Element    id=com.arduia.expense:id/tv_title
    Click Element    id=com.arduia.expense:id/tv_title
    Wait Until Page Contains Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.view.ViewGroup/androidx.cardview.widget.CardView[2]/android.widget.RelativeLayout
    Click Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.view.ViewGroup/androidx.cardview.widget.CardView[2]/android.widget.RelativeLayout
    Wait Until Page Contains Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.view.ViewGroup/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/android.widget.FrameLayout[1]/com.google.android.material.card.MaterialCardView/android.widget.FrameLayout/android.widget.RelativeLayout/android.widget.FrameLayout/android.widget.ImageView[1]
    Click Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.view.ViewGroup/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/android.widget.FrameLayout[1]/com.google.android.material.card.MaterialCardView/android.widget.FrameLayout/android.widget.RelativeLayout/android.widget.FrameLayout/android.widget.ImageView[1]
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_import
    Click Element    id=com.arduia.expense:id/btn_import
    Wait Until Page Contains Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout[1]/android.view.ViewGroup/android.widget.LinearLayout/android.view.ViewGroup/android.widget.ImageButton
    Click Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout[1]/android.view.ViewGroup/android.widget.LinearLayout/android.view.ViewGroup/android.widget.ImageButton
    Wait Until Page Contains Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.widget.FrameLayout/androidx.recyclerview.widget.RecyclerView/androidx.appcompat.widget.LinearLayoutCompat[1]/android.widget.CheckedTextView
    Click Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.widget.FrameLayout/androidx.recyclerview.widget.RecyclerView/androidx.appcompat.widget.LinearLayoutCompat[1]/android.widget.CheckedTextView
    Wait Until Page Contains Element    id=com.arduia.expense:id/tv_name
    Element Text Should Be    id=com.arduia.expense:id/tv_name    lunch
    Element Text Should Be    id=com.arduia.expense:id/tv_amount    120

*** Keywords ***
Open ProExpense
    Open Application    ${REMOTE_URL}    platformName=${PLATFORM_NAME}    platformVersion=${PLATFORM_VERSION}    deviceName=${DEVICE_NAME}    automationName=UiAutomator2    appActivity=${ACTIVITY_NAME}    appPackage=${PACKAGE_NAME}
    Wait Until Page Contains Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.viewpager.widget.ViewPager/androidx.recyclerview.widget.RecyclerView/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[2]/android.widget.RelativeLayout/android.widget.TextView    5000    not_find_element
    Click Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.viewpager.widget.ViewPager/androidx.recyclerview.widget.RecyclerView/android.widget.FrameLayout/android.view.ViewGroup/androidx.recyclerview.widget.RecyclerView/androidx.cardview.widget.CardView[2]/android.widget.RelativeLayout/android.widget.TextView
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_continue    5000    not_find_element
    Click Element    id=com.arduia.expense:id/btn_continue
    Wait Until Page Contains Element    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.viewpager.widget.ViewPager/androidx.recyclerview.widget.RecyclerView/android.widget.FrameLayout/android.view.ViewGroup/android.widget.LinearLayout/androidx.cardview.widget.CardView/android.widget.EditText    5000    not_find_element
    Input Text    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/androidx.viewpager.widget.ViewPager/androidx.recyclerview.widget.RecyclerView/android.widget.FrameLayout/android.view.ViewGroup/android.widget.LinearLayout/androidx.cardview.widget.CardView/android.widget.EditText    tw
    Wait Until Page Contains Element    id=com.arduia.expense:id/tv_currency    5000    not_find_element
    Click Element    id=com.arduia.expense:id/tv_currency
    Wait Until Page Contains Element    id=com.arduia.expense:id/btn_continue    5000    not_find_element
    Click Element    id=com.arduia.expense:id/btn_continue

Get Element X
    [Arguments]    ${element}
    ${Location}=    Get Element Location    ${element}
    ${result}=    Get From Dictionary    ${Location}    x
    [Return]    ${result}

Get Element Y
    [Arguments]    ${element}
    ${Location}=    Get Element Location    ${element}
    ${result}=    Get From Dictionary    ${Location}    y
    [Return]    ${result}

Continous Click A Element
    [Arguments]    ${element}
    ${x}=    Get Element X    ${element}
    ${y}=    Get Element Y    ${element}
    Click A Point    ${x+20}    ${y+20}    1
    Click A Point    ${x+20}    ${y+20}    1
    Click A Point    ${x+20}    ${y+20}    1

Click
    [Arguments]     ${element}
    Wait Until Page Contains Element    ${element}    5
    Click Element    ${element}

Input
    [Arguments]     ${element}      ${inputText}
    Wait Until Page Contains Element    ${element}    5
    Input Text    ${element}    ${inputText}

Element Text Should Equals
    [Arguments]     ${element}      ${trueText}
    Wait Until Page Contains Element    ${element}    5
    Element Text Should Be    ${element}    ${trueText}

Enter Expense Logs
    Click    xpath=/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/androidx.drawerlayout.widget.DrawerLayout/android.view.ViewGroup/android.widget.FrameLayout/android.view.ViewGroup/android.widget.LinearLayout/android.view.ViewGroup/android.widget.ImageButton
    Click    id=com.arduia.expense:id/tv_outcome_value
